import type { Milestone } from '@/types/milestone';

export const phase6Milestones: Milestone[] = [
  {
    id: 'nooks-cranny-upgrade',
    title: 'Nook\'s Cranny Upgrade',
    description: 'The shop expands into a larger building with more items.',
    category: 'buildings',
    phase: 6,
    prerequisites: ['nooks-cranny-opens'],
    requirements: [
      { type: 'time', name: '30 days since Nook\'s Cranny opened', description: 'Real-time days' },
      { type: 'currency', name: 'Bells spent/earned at shop', quantity: 200000 },
    ],
    tips: [
      'The upgrade is announced by Isabelle.',
      'Larger selection of items and furniture.',
      'Seasonal and rare items appear more often.',
    ],
    commonIssues: [
      {
        symptom: 'Nook\'s Cranny won\'t upgrade',
        cause: 'Not enough time has passed or not enough shopping done',
        solution: 'Keep buying and selling at the shop. 30 real days must pass since it opened.',
      },
    ],
    isOptional: false,
  },
  {
    id: 'able-sisters-request',
    title: 'Able Sisters Shop Requested',
    description: 'Mabel asks to open a permanent clothing shop.',
    category: 'buildings',
    phase: 6,
    prerequisites: ['meet-mabel'],
    requirements: [
      { type: 'currency', name: 'Total spent at Mabel\'s', quantity: 5000 },
      { type: 'action', name: 'Talk to Mabel on her visits' },
    ],
    tips: [
      'Buy from Mabel whenever she visits.',
      'After enough purchases, she\'ll ask to build a shop.',
    ],
    isOptional: true,
  },
  {
    id: 'place-able-sisters',
    title: 'Place Able Sisters Shop',
    description: 'Choose a location for the clothing shop.',
    category: 'buildings',
    phase: 6,
    prerequisites: ['able-sisters-request'],
    requirements: [
      { type: 'action', name: 'Place shop construction kit' },
    ],
    tips: [
      'The shop has a fitting room in the back.',
      'You can buy custom designs from other players.',
      'Sable will be there - talk to her daily!',
    ],
    isOptional: true,
  },
  {
    id: 'able-sisters-opens',
    title: 'Able Sisters Opens',
    description: 'The clothing shop is now open for business!',
    category: 'buildings',
    phase: 6,
    prerequisites: ['place-able-sisters'],
    requirements: [
      { type: 'time', name: 'Wait two days for construction' },
    ],
    tips: [
      'Check the back fitting room for more items.',
      'Talk to Sable daily to unlock fabric patterns.',
      'New items every day!',
    ],
    isOptional: true,
  },
  {
    id: 'unlock-sable-patterns',
    title: 'Unlock Sable\'s Patterns',
    description: 'Befriend Sable to receive fabric patterns for customization.',
    category: 'tools',
    phase: 6,
    prerequisites: ['able-sisters-opens'],
    requirements: [
      { type: 'action', name: 'Talk to Sable daily for 7+ days' },
    ],
    tips: [
      'She\'s shy at first but opens up over time.',
      'You\'ll receive 10 pattern sets total.',
      'Use patterns at customization workbenches.',
    ],
    isOptional: true,
  },
  {
    id: 'meet-redd',
    title: 'Meet Redd',
    description: 'The suspicious art dealer visits your island.',
    category: 'main-story',
    phase: 6,
    prerequisites: ['museum-opens'],
    requirements: [
      { type: 'action', name: 'Find Redd on your island' },
      { type: 'action', name: 'Talk to Blathers about art' },
    ],
    tips: [
      'Redd appears randomly with his boat.',
      'He sells art - but beware of forgeries!',
      'Blathers will want art donations.',
    ],
    isOptional: true,
  },
  {
    id: 'art-wing-unlock',
    title: 'Museum Art Wing Unlocks',
    description: 'Donate your first piece of art to unlock the art wing.',
    category: 'buildings',
    phase: 6,
    prerequisites: ['meet-redd'],
    requirements: [
      { type: 'action', name: 'Purchase art from Redd' },
      { type: 'action', name: 'Donate to Blathers' },
    ],
    tips: [
      'Learn to spot fake art - look for visual differences.',
      'The art wing showcases paintings and sculptures.',
      'Redd visits randomly - check the map for his boat.',
    ],
    commonIssues: [
      {
        symptom: 'Redd never appears',
        cause: 'Random NPC visits',
        solution: 'Redd visits randomly. Keep checking your shores and secret beach.',
      },
      {
        symptom: 'Art was fake',
        cause: 'Redd sells forgeries',
        solution: 'Look up guides on spotting fake art. Forgeries have subtle differences from real pieces.',
      },
    ],
    isOptional: true,
  },
  {
    id: 'meet-brewster',
    title: 'Meet Brewster',
    description: 'The coffee-loving pigeon can be found on a mystery island.',
    category: 'main-story',
    phase: 6,
    prerequisites: ['museum-opens'],
    requirements: [
      { type: 'action', name: 'Talk to Blathers about Brewster' },
      { type: 'action', name: 'Visit mystery islands to find Brewster' },
      { type: 'action', name: 'Invite Brewster to the museum' },
    ],
    tips: [
      'You need to have donated at least one item in each museum category.',
      'Blathers will mention his friend Brewster.',
      'Use a Nook Miles Ticket and look for Brewster.',
    ],
    isOptional: true,
  },
  {
    id: 'roost-opens',
    title: 'The Roost Opens',
    description: 'Brewster opens his coffee shop in the museum!',
    category: 'buildings',
    phase: 6,
    prerequisites: ['meet-brewster'],
    requirements: [
      { type: 'time', name: 'Wait for construction' },
    ],
    tips: [
      'Visit daily to build friendship with Brewster.',
      'You can invite amiibo characters for coffee.',
      'Special rewards unlock over time.',
    ],
    isOptional: true,
  },
  {
    id: 'house-basement',
    title: 'Add Basement to House',
    description: 'Expand your house to include a basement.',
    category: 'house',
    phase: 6,
    prerequisites: ['first-house-expansion'],
    requirements: [
      { type: 'currency', name: 'Bells', quantity: 2498000, description: 'Final expansion cost' },
    ],
    tips: [
      'The basement is the final room.',
      'Your storage will be at maximum capacity.',
      'Total house debt for full upgrades is over 5 million bells.',
    ],
    isOptional: true,
  },
  {
    id: 'house-fully-upgraded',
    title: 'Fully Upgrade House',
    description: 'Complete all house expansions including exterior customization.',
    category: 'house',
    phase: 6,
    prerequisites: ['house-basement'],
    requirements: [
      { type: 'action', name: 'Pay off all house loans' },
      { type: 'action', name: 'Customize house exterior' },
    ],
    tips: [
      'Tom Nook allows free exterior remodeling after final payment.',
      'Change your roof, door, mailbox, and more.',
      'Your house has 2,400 storage slots when fully upgraded.',
    ],
    isOptional: true,
  },
  {
    id: 'complete-critterpedia',
    title: 'Complete the Critterpedia',
    description: 'Catch and donate every fish and bug species.',
    category: 'main-story',
    phase: 6,
    prerequisites: ['museum-opens'],
    requirements: [
      { type: 'creature', name: 'All fish species', quantity: 80 },
      { type: 'creature', name: 'All bug species', quantity: 80 },
    ],
    tips: [
      'Different creatures appear in different seasons.',
      'Some only appear at specific times of day.',
      'Use the Critterpedia to track what you\'re missing.',
      'Visit both northern and southern hemisphere islands.',
    ],
    isOptional: true,
  },
  {
    id: 'complete-fossil-collection',
    title: 'Complete Fossil Collection',
    description: 'Find and donate all fossil pieces.',
    category: 'main-story',
    phase: 6,
    prerequisites: ['museum-opens'],
    requirements: [
      { type: 'item', name: 'All fossil specimens', quantity: 73 },
    ],
    tips: [
      'Dig up 4 fossils per day on your island.',
      'Have Blathers assess them before donating.',
      'Duplicates can be sold for bells.',
    ],
    isOptional: true,
  },
  {
    id: 'golden-tools',
    title: 'Unlock Golden Tool Recipes',
    description: 'Earn the DIY recipes for golden tools.',
    category: 'tools',
    phase: 6,
    prerequisites: ['unlock-island-designer'],
    requirements: [
      { type: 'action', name: 'Golden Axe: Break 100 axes' },
      { type: 'action', name: 'Golden Net: Catch all bugs' },
      { type: 'action', name: 'Golden Rod: Catch all fish' },
      { type: 'action', name: 'Golden Shovel: Help Gulliver 30 times' },
      { type: 'action', name: 'Golden Slingshot: Shoot down 300 balloons' },
      { type: 'action', name: 'Golden Watering Can: Reach 5-star rating' },
    ],
    tips: [
      'Each golden tool has a different unlock method.',
      'Golden tools still break, but last much longer.',
      'Track your progress using the Nook Miles achievements.',
    ],
    isOptional: true,
  },
];
